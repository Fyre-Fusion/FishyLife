<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>FishyLife</title>
<style>
body {
    margin:0;
    font-family:Arial, sans-serif;
    background:#4db8ff;
    color:white;
    text-align:center;
}
header {
    display:flex;
    justify-content:space-around;
    padding:12px;
    background:rgba(0,0,0,.35);
}
header a {
    color:white;
    text-decoration:none;
    font-size:18px;
}
h1 { margin-top:20px; }
.card {
    background:rgba(0,0,0,.35);
    width:360px;
    margin:20px auto;
    padding:20px;
    border-radius:14px;
}
button {
    padding:8px 14px;
    border:none;
    border-radius:8px;
    font-weight:bold;
    margin:6px;
    cursor:pointer;
}
select {
    padding:6px;
    border-radius:6px;
}
</style>
</head>
<body>

<header>
<a href="fish.html">ğŸ£ Fish</a>
<a href="shop.html">ğŸ›’ Shop</a>
<a href="aquarium.html">ğŸ  Aquarium</a>
<a href="quests.html">ğŸ¯ Quests</a>
</header>

<h1>ğŸŸ FishyLife</h1>

<div class="card">
    <p>â­ Level: <span id="level"></span></p>
    <p>ğŸ§ª XP: <span id="xp"></span> / <span id="xpNeed"></span></p>
    <p>ğŸ’° Money: $<span id="money"></span></p>
    <p>ğŸª± Bait: <span id="bait"></span></p>
    <p>ğŸŒ Location: 
        <select id="location" onchange="changeLocation()">
            <option value="River">River</option>
            <option value="Ocean">Ocean</option>
        </select>
    </p>
    <p>â›µ Boat: <span id="boat"></span> ($<span id="boatPrice"></span>)</p>
    <button onclick="buyBoat()">Buy / Upgrade Boat</button>
</div>

<script>
// ---------- LOAD GAME ----------
let g = JSON.parse(localStorage.getItem("game"));
if(!g){
    g = {
        level:1, xp:0, xpNeed:50, money:5000, bait:5,
        rod:"Basic Rod", location:"River",
        inventory:{}, caught:{}, fishCount:0,
        boat:"Sea Whisper", boatsUnlocked:{Sea_Whisper:true,Blue_Horizon:false,Storm_Voyager:false,USS_Victoris:false}
    };
    localStorage.setItem("game",JSON.stringify(g));
}

// Boat list
const boats = [
    {name:"Sea Whisper",price:5000},
    {name:"Blue Horizon",price:6000},
    {name:"Storm Voyager",price:7000},
    {name:"USS Victoris",price:8000}
];

// ---------- UPDATE STATS ----------
function updateStats(){
    document.getElementById("level").textContent = g.level;
    document.getElementById("xp").textContent = g.xp;
    document.getElementById("xpNeed").textContent = g.xpNeed;
    document.getElementById("money").textContent = g.money;
    document.getElementById("bait").textContent = g.bait;
    document.getElementById("location").value = g.location;
    document.getElementById("boat").textContent = g.boat;
    const idx = boats.findIndex(b=>b.name===g.boat);
    if(idx<boats.length-1){
        document.getElementById("boatPrice").textContent = boats[idx+1].price;
    } else document.getElementById("boatPrice").textContent = "MAX";
}
updateStats();

// ---------- LOCATION ----------
function changeLocation(){
    g.location = document.getElementById("location").value;
    localStorage.setItem("game",JSON.stringify(g));
    updateStats();
}

// ---------- BUY / UPGRADE BOAT ----------
function buyBoat(){
    const idx = boats.findIndex(b=>b.name===g.boat);
    if(idx>=boats.length-1){ alert("Boat already maxed!"); return; }
    const nextBoat = boats[idx+1];
    if(g.money<nextBoat.price){ alert("Not enough money!"); return; }
    g.money -= nextBoat.price;
    g.boat = nextBoat.name;
    g.boatsUnlocked[nextBoat.name.replace(" ","_")] = true;
    localStorage.setItem("game",JSON.stringify(g));
    alert(`Bought / Upgraded to ${nextBoat.name}!`);
    updateStats();
}
</script>

</body>
</html>
