<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>FishyLife</title>
<style>
body {
    margin:0;
    font-family:Arial, sans-serif;
    background: linear-gradient(to bottom, #0a2e5a, #004080);
    color:white;
    text-align:center;
}
header {
    display:flex;
    justify-content:space-around;
    padding:12px;
    background:rgba(0,0,0,.35);
}
header a {
    color:white;
    text-decoration:none;
    font-size:18px;
}
h1 {
    margin-top:20px;
}
.card {
    width:360px;
    margin:20px auto;
    padding:20px;
    text-align:left;
    border-radius:14px;
}
button {
    padding:8px 14px;
    border:none;
    border-radius:8px;
    font-weight:bold;
    margin:6px;
    cursor:pointer;
}
select {
    padding:6px;
    border-radius:6px;
}
#quests, #inventory, #encyclopedia, #skillsCard {
    display:none;
}
</style>
</head>
<body>

<header>
<a href="fish.html">ğŸ£ Fish</a>
<a href="shop.html">ğŸ›’ Shop</a>
<a href="#" onclick="toggleCard('inventory')">ğŸ’ Bag</a>
<a href="#" onclick="toggleCard('encyclopedia')">ğŸ“– Encyclopedia</a>
<a href="#" onclick="toggleCard('skillsCard')">ğŸ›  Skills</a>
<a href="#" onclick="toggleCard('quests')">ğŸ¯ Quests</a>
<a href="aquarium.html">ğŸ  Aquarium</a>
<a href="settings.html">âš™ï¸ Settings</a>
</header>

<h1>ğŸŸ FishyLife</h1>

<div class="card">
    <p>â­ Level: <span id="level"></span></p>
    <p>ğŸ§ª XP: <span id="xp"></span> / <span id="xpNeed"></span></p>
    <p>ğŸ’° Money: $<span id="money"></span></p>
    <p>ğŸª± Bait: <span id="bait"></span></p>
</div>

<!-- QUESTS -->
<div class="card" id="quests">
<h2>ğŸ¯ Active Quest</h2>
<div id="questInfo"></div>
</div>

<!-- INVENTORY -->
<div class="card" id="inventory">
<h2>ğŸ’ Inventory</h2>
<div id="invList"></div>
<button onclick="sellFish()">Sell Selected</button>
</div>

<!-- ENCYCLOPEDIA -->
<div class="card" id="encyclopedia">
<h2>ğŸ“– Encyclopedia</h2>
<div id="fishList"></div>
</div>

<!-- SKILLS -->
<div class="card" id="skillsCard">
<h2>ğŸ›  Skills</h2>
<div id="skillsList"></div>
</div>

<script>
// ---------------- LOAD GAME ----------------
let g = JSON.parse(localStorage.getItem("game"));
if(!g){
    g = {
        level:1, xp:0, xpNeed:50, money:15, bait:5,
        rod:"Basic Rod", location:"River",
        unlocked:{River:true,Ocean:false},
        inventory:{}, caught:{}, fishCount:0,
        skillPoints:0, skills:{control:0,power:0,glide:0},
        activeQuest:null, questProgress:{}
    };
    localStorage.setItem("game",JSON.stringify(g));
}

function updateStats(){
    document.getElementById("level").textContent = g.level;
    document.getElementById("xp").textContent = g.xp;
    document.getElementById("xpNeed").textContent = g.xpNeed;
    document.getElementById("money").textContent = g.money;
    document.getElementById("bait").textContent = g.bait;
}

updateStats();

// ---------------- TOGGLE CARDS ----------------
function toggleCard(id){
    const el = document.getElementById(id);
    if(el.style.display==="block") el.style.display="none";
    else{
        el.style.display="block";
        if(id==="inventory") renderInventory();
        if(id==="encyclopedia") renderFish();
        if(id==="skillsCard") renderSkills();
        if(id==="quests") renderQuest();
    }
}

// ---------------- INVENTORY ----------------
function renderInventory(){
    const invList = document.getElementById("invList");
    invList.innerHTML = "";
    for(let f in g.inventory){
        const div = document.createElement("div");
        div.className = "fish-card";
        div.textContent = `${f} x${g.inventory[f]}`;
        invList.appendChild(div);
    }
}

function sellFish(){
    for(let f in g.inventory){
        const price = 10; // simplified, could vary per fish
        g.money += g.inventory[f]*price;
        g.inventory[f] = 0;
    }
    localStorage.setItem("game",JSON.stringify(g));
    updateStats();
    renderInventory();
    alert("All fish sold!");
}

// ---------------- ENCYCLOPEDIA ----------------
const fishData = [
{name:"Minnow",category:"Common"},
{name:"Bluegill",category:"Common"},
{name:"Bass",category:"Uncommon"},
{name:"Trout",category:"Uncommon"},
{name:"Catfish",category:"Uncommon"},
{name:"Salmon",category:"Rare"},
{name:"Peacock Bass",category:"Rare"},
{name:"Red Snapper",category:"Rare"},
{name:"Tilapia",category:"Uncommon"},
{name:"Clownfish",category:"Uncommon"},
{name:"Moonfish",category:"Rare"},
{name:"Tigershark",category:"Legendary"},
{name:"Basa",category:"Uncommon"},
{name:"Goldfish",category:"Common"},
{name:"Angelfish",category:"Uncommon"},
{name:"Turtle",category:"Rare"},
{name:"Kepper",category:"Rare"},
{name:"Lemonshark",category:"Legendary"},
{name:"Lungfish",category:"Rare"},
{name:"Squid",category:"Uncommon"},
{name:"Crabs",category:"Common"},
{name:"Crawfish Red",category:"Common"},
{name:"Crawfish Blue",category:"Uncommon"},
{name:"Pufferfish",category:"Rare"},
{name:"Vampire Fish",category:"Epic"},
{name:"Japanese Spider Crab",category:"Rare"},
{name:"Carp",category:"Common"},
{name:"Oscar",category:"Uncommon"},
{name:"Freshwater Sharks",category:"Rare"},
{name:"Lionfish",category:"Rare"},
{name:"Prawn",category:"Uncommon"},
{name:"Shrimp",category:"Common"},
{name:"Octopus",category:"Rare"},
{name:"Sea Urchin",category:"Uncommon"},
{name:"Salami",category:"Uncommon"},
{name:"Sting Ray",category:"Rare"},
{name:"Dolphin",category:"Epic"},
{name:"Blind Dolphin",category:"Rare"},
{name:"Stonefish",category:"Rare"},
{name:"Pike",category:"Uncommon"},
{name:"Sea Snake",category:"Rare"},
{name:"Eel",category:"Uncommon"},
{name:"Electric Eel",category:"Epic"},
{name:"Tigerfish",category:"Rare"},
{name:"Red Tail Catfish",category:"Epic"},
{name:"Great White Shark",category:"Legendary"},
{name:"Hammerhead Shark",category:"Legendary"},
{name:"Spine Fish",category:"Rare"},
{name:"Sea Turtle",category:"Rare"},
{name:"Largemouth Bass",category:"Uncommon"},
{name:"Smallmouth Bass",category:"Uncommon"},
{name:"Rainbow Trout",category:"Uncommon"},
{name:"Brown Trout",category:"Uncommon"},
{name:"Brook Trout",category:"Uncommon"},
{name:"Northern Pike",category:"Uncommon"},
{name:"Chain Pickerel",category:"Uncommon"},
{name:"Walleye",category:"Uncommon"},
{name:"Muskellunge",category:"Rare"},
{name:"Channel Catfish",category:"Uncommon"},
{name:"Flathead Catfish",category:"Rare"},
{name:"Blue Catfish",category:"Rare"},
{name:"Yellow Perch",category:"Common"},
{name:"European Perch",category:"Uncommon"},
{name:"Black Crappie",category:"Common"},
{name:"White Crappie",category:"Uncommon"},
{name:"Grass Carp",category:"Uncommon"},
{name:"Bighead Carp",category:"Uncommon"},
{name:"Silver Carp",category:"Uncommon"},
{name:"Crucian Carp",category:"Common"},
{name:"Tench",category:"Common"},
{name:"White Sturgeon",category:"Rare"},
{name:"Atlantic Sturgeon",category:"Rare"},
{name:"Lake Sturgeon",category:"Rare"},
{name:"Longnose Gar",category:"Rare"},
{name:"Alligator Gar",category:"Epic"},
{name:"Bullhead",category:"Common"},
{name:"Burbot",category:"Common"},
{name:"Dogfish Freshwater",category:"Uncommon"},
{name:"Chub",category:"Common"},
{name:"Dace",category:"Common"}
];

function renderFish(){
    const fishList = document.getElementById("fishList");
    fishList.innerHTML = "";
    fishData.forEach(f=>{
        const caught = g.caught[f.name] || false;
        const d = document.createElement("div");
        d.className = "fish-card";
        d.textContent = (caught?"âœ… ":"âŒ ") + f.name + " [" + f.category + "]";
        fishList.appendChild(d);
    });
}

// ---------------- SKILLS ----------------
function renderSkills(){
    const container = document.getElementById("skillsList");
    container.innerHTML = "";
    const sp = document.createElement("div");
    sp.textContent = `Skill Points: ${g.skillPoints}`;
    container.appendChild(sp);

    for(let key in g.skills){
        const div = document.createElement("div");
        div.className = "skill-line";
        div.textContent = `${key.charAt(0).toUpperCase() + key.slice(1)}: ${g.skills[key]}`;
        container.appendChild(div);
    }
}

// ---------------- QUESTS ----------------
function renderQuest(){
    const card = document.getElementById("quests");
    const info = document.getElementById("questInfo");
    if(!g.activeQuest){ card.style.display="none"; return; }
    card.style.display="block";
    const fishName = g.activeQuest.fish;
    const target = g.activeQuest.target;
    const progress = g.questProgress[fishName]||0;
    info.textContent = `Catch ${target} ${fishName}: ${progress}/${target}`;
}
</script>

</body>
</html>
