<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>FishyLife ‚Äì Skills</title>
<style>
body{margin:0;font-family:Arial;background:#4db8ff;color:white;text-align:center;}
header{display:flex;justify-content:space-around;padding:10px;background:rgba(0,0,0,.35);}
header a{color:white;text-decoration:none;}
.card{background:rgba(0,0,0,.35);width:360px;margin:20px auto;padding:20px;border-radius:14px;}
button{padding:6px 12px;border:none;border-radius:8px;font-weight:bold;margin:6px;cursor:pointer;}
h1{text-align:center;}
.skill-line{display:flex;justify-content:space-between;align-items:center;margin:6px 0;}
.skill-name{font-weight:bold;}
</style>
</head>
<body>

<header>
<a href="index.html">üè† Home</a>
<a href="fish.html">üé£ Fish</a>
</header>

<h1>üõ† Skill Tree</h1>

<div class="card">
<h2>Skill Points: <span id="sp"></span></h2>
</div>

<div class="card" id="skillsContainer">
<!-- Skills will render here -->
</div>

<script>
// ================= LOAD GAME =================
let g = JSON.parse(localStorage.getItem("game"));
if(!g){
    alert("No save found!");
    location.href="index.html";
}

// Ensure skill structure exists
g.skillPoints ??= 5;  // starting points
g.skills ??= {control:0,power:0,glide:0};

// ================= RENDER =================
function renderSkills(){
    const container = document.getElementById("skillsContainer");
    container.innerHTML = "";

    document.getElementById("sp").textContent = g.skillPoints;

    for(let key in g.skills){
        const line = document.createElement("div");
        line.className = "skill-line";

        const name = document.createElement("span");
        name.className = "skill-name";
        name.textContent = key.charAt(0).toUpperCase() + key.slice(1);

        const value = document.createElement("span");
        value.textContent = g.skills[key];

        const btn = document.createElement("button");
        btn.textContent = "+";
        btn.disabled = g.skillPoints <= 0;
        btn.onclick = ()=>{
            if(g.skillPoints > 0){
                g.skills[key]++;
                g.skillPoints--;
                localStorage.setItem("game",JSON.stringify(g));
                renderSkills();
            }
        };

        line.appendChild(name);
        line.appendChild(value);
        line.appendChild(btn);
        container.appendChild(line);
    }
}

renderSkills();
</script>

</body>
</html>

