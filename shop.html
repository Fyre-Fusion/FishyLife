<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>FishyLife - Shop</title>
<style>
body{margin:0;font-family:Arial;background:#4db8ff;color:white;text-align:center;}
header{display:flex;justify-content:space-around;padding:10px;background:rgba(0,0,0,.35);}
header a{color:white;text-decoration:none;}
.card{background:rgba(0,0,0,.35);width:360px;margin:20px auto;padding:20px;border-radius:14px;}
button{padding:8px 14px;border:none;border-radius:8px;font-weight:bold;margin:6px;cursor:pointer;}
input[type=number]{padding:4px;border-radius:6px;border:none;text-align:center;}
</style>
</head>
<body>

<header>
<a href="index.html">ğŸ  Home</a>
<a href="fish.html">ğŸ£ Fish</a>
<a href="shop.html">ğŸ›’ Shop</a>
</header>

<h1>ğŸ›’ Shop</h1>

<div class="card">
<h2>ğŸ’° Money: $<span id="money"></span></h2>
</div>

<div class="card">
<h2>ğŸª± Buy Basic Bait</h2>
<p>$5 each</p>
<input type="number" id="baitQty" value="1" min="1">
<button onclick="buyBait()">Buy</button>
</div>

<div class="card">
<h2>ğŸª± Buy Advanced Bait</h2>
<p>$20 â†’ gives 2 bait</p>
<input type="number" id="advQty" value="1" min="1">
<button onclick="buyAdv()">Buy</button>
</div>

<div class="card">
<h2>ğŸ£ Upgrade Rod</h2>
<p>Current: <span id="rodName"></span></p>
<p>Cost: $<span id="rodPrice"></span></p>
<button onclick="upgradeRod()">Upgrade</button>
</div>

<script>
const rods=[
{name:"Basic Rod",price:0},
{name:"Silver Rod",price:200},
{name:"Gold Rod",price:400},
{name:"Dark Rod",price:600},
{name:"Reef Rod",price:800},
{name:"Lava Rod",price:1200},
{name:"Clam Rod",price:1600},
{name:"Lucky Rod",price:1800}
];

let g = JSON.parse(localStorage.getItem("game"));
if(!g){location.href="index.html";}

function update(){
    document.getElementById("money").textContent=g.money;
    document.getElementById("rodName").textContent=g.rod;
    const i=rods.findIndex(r=>r.name===g.rod);
    document.getElementById("rodPrice").textContent =
        i<rods.length-1 ? rods[i+1].price : "MAX";
}
update();

function buyBait(){
    const q=+baitQty.value||1;
    const cost=q*5;
    if(g.money<cost) return alert("Not enough money");
    g.money-=cost;
    g.bait+=q;
    save();
}

function buyAdv(){
    const q=+advQty.value||1;
    const cost=q*20;
    if(g.money<cost) return alert("Not enough money");
    g.money-=cost;
    g.bait+=q*2;
    save();
}

function upgradeRod(){
    const i=rods.findIndex(r=>r.name===g.rod);
    if(i>=rods.length-1) return alert("Max rod");
    const n=rods[i+1];
    if(g.money<n.price) return alert("Not enough money");
    g.money-=n.price;
    g.rod=n.name;
    save();
}

function save(){
    localStorage.setItem("game",JSON.stringify(g));
    update();
}
</script>
</body>
</html>
