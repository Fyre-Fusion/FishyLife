<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>FishyLife - Fish</title>
<style>
body{margin:0;font-family:Arial;background:#4db8ff;color:white;text-align:center;}
header{display:flex;justify-content:space-around;padding:10px;background:rgba(0,0,0,.35);}
header a{color:white;text-decoration:none;}
#fishingArea{position:relative;width:360px;height:200px;margin:20px auto;background:#1e7ccc;border:4px solid green;}
#catchBar{position:absolute;width:50px;height:100%;background:red;left:0;top:0;}
#controls{margin-top:10px;}
button{padding:8px 12px;border:none;border-radius:6px;font-weight:bold;margin:4px;cursor:pointer;}
</style>
</head>
<body>

<header>
<a href="index.html">üè† Home</a>
<a href="shop.html">üõí Shop</a>
</header>

<h1>üé£ Fishing</h1>

<div id="fishingArea">
  <div id="catchBar"></div>
</div>

<div id="controls">
  <button onclick="moveLeft()">&#8592;</button>
  <button onclick="moveRight()">&#8594;</button>
</div>

<script>
let g = JSON.parse(localStorage.getItem("game"));
if(!g) location.href="index.html";

const bar = document.getElementById("catchBar");
let pos = 0, direction = 1, speed = 2;
let fishing = true;

function animate(){
    if(!fishing) return;
    pos += direction * speed;
    if(pos <=0) { pos=0; direction=1; }
    if(pos >= 310) { pos=310; direction=-1; } // 360px - 50px bar width
    bar.style.left = pos + "px";
    requestAnimationFrame(animate);
}
animate();

function moveLeft(){ pos-=15; if(pos<0) pos=0; bar.style.left=pos+"px"; }
function moveRight(){ pos+=15; if(pos>310) pos=310; bar.style.left=pos+"px"; }
</script>

</body>
</html>
